     Safe-Hold Operating Mode:
        The safe-hold operating mode is a low power mode designed to facilitate a net positive power generation from the solar cells.During safe-hold mode, the onboard tranceiver is powered on. Real-time satellite health data is transmitted during this operating mode for ground based decisions to switch  to other operating modes.As indicated in the flowchart,safe-hold mode is designed as an infinite loop unless interrupted by a ground command or a power reset.The satellite receiver is in an interrupt mode and can be commanded by a ground station anytime. While the satellite is listening for any ground communication via the receiver, the software collects real-time health data from the onboard sensors and actively transmits it at specific intervals.
         The flowchart describes the safe-hold functions- check receiver, query beacon,transmit beacon tasks.
                    Check the receiver for the command sent from the ground station. With the help of a counter, wait for a specific amount of time. If the signal is received, reset the counter. Check if the Communication Failure Internal Status(CFIS) flag is set, fetch the value from flash to the comms failure flag and proceed to "Comms signal received"(CSR) block.If not, proceed to CSR block.And if valid uplink command is received, enter the corresponding mode of operation. If the signal is not received, update the counter and compare it to a specified threshold. If the counter value exceeds the threshold, raise the comms failure flag and set the Communication Failure Internal Status(CFIS) flag and continue to transmit the beacon.If not, continue to transmit the sensor data to the ground station.  

     Detumble Operating Mode:
                  The detumble operating mode is designed to stabilize the satellite about its three axes.The operation is a sub-routine of the main program and is initiated by a ground command which includes the parameters detumble loop-time and a timeout period. Since the main goal of the operating mode is to stabilize the angular rates of the satellite the function queries the IMU rates and compares them against predefined threshold values.
                           The detumble mode is a relatively power intensive operation compared to safe-hold mode. To ensure the batteries have enough energy for executing the operation the function queries the battery board through the I2C communication link to EPS. Based on the pre-determined threshold values for angular rates of the satellite and the available power the detumbling task is performed. The design makes provosion fpr recording the operation success as a status flag in the flash storage.To detumble the satellite, magnetic coils embedded in the solar panels are energized. A provision is made to terminate the detumble operation from a ground station through the receiver. The detumble operation can also terminate autonomously if the angular rates are estimated to be below a threshold. To assist the ground command in making decisions to terminate the operation the satellite transmits its health data at specific intervals. Additionally the satellite is programmed to record detumble telemetry into the flash storage at specified intervals. The recorded data is transmitted during the Comms operation.    

          The power required to operate the satellite in detumble mode is taken from the ADCS computer and the sensor data is collected from the EPS subsystem. If sufficient power is available to detumble, send a request signal to ADCS to detumble. After receiving the request signal, the ADCS is going to start detumbling. Once detumbling is done, ADCS is expected to send an acknowledgement.If acknowledgement is received,come out of the mode. If not received, send the real-time satellite health data.
               If the required power is not available, set the operational flag and check if the solar panels are extended or not. If extended, go to safe-hold mode. If not, instuct the ADCS to extend the solar panels and then go to safe-hold mode. 

     Power-up and Deploy Mode:
                The P-POD and the seperation switch design enables the satellite to be powered on upon its deployment out of the P-POD. Once deployed and powered on, the software enter the power-up and deploy operation at the "power-on" block show in the flowchart.
                This block is the starting point for every reboot of the satellite due to insufficient power, ground command or watch dog reset.The program communicates with RTC and records the time as the current boot time on the flash storage. Along with the boot time, the boot counter is also updated on the flash storage. The boot counter is designed to track the number of times the satellite reboots.
                The antenna deployment operation is designed to be executed only the first time, which is tracked through the launch flag. However, a provision is made to attempt partial and/or complete re-deployment in case of an unexpected failure. The success of an antenna deployment is verified by sensing the change in acceleration and/or satellite angular rates before and after the deployment.
                             

 

